var scripts=document.getElementsByTagName("script"),currentScriptPath=scripts[scripts.length-1].src;angular.module("layout-containers",[]).directive("viewport",["$window","$compile",function(t){return{restrict:"E",transclude:!0,template:"<div style='height:{{height}}px;width:{{width}}px'></div>",controller:["$scope","$element","$attrs","$transclude",function(e,i,n,r){var o,h;e.height=t.innerHeight,e.width=t.innerWidth,$(window).on("resize.doResize",function(){e.$apply(function(){e.height=t.innerHeight,e.width=t.innerWidth,h.height=e.height,h.width=e.width,o.attr("height",e.height),o.attr("width",e.width)})}),e.$on("$destroy",function(){$(window).off("resize.doResize")}),r(function(t,e){i.children().append(t),o=t,h=e})}],link:function(){}}}]),angular.module("layout-containers").directive("borderLayout",[function(){return{restrict:"E",scope:{height:"@",width:"@",border:"@"},transclude:!0,bindToController:!0,controllerAs:"borderCtrl",templateUrl:currentScriptPath.substring(0,currentScriptPath.lastIndexOf("/")+1)+"templates/borderLayout.html",controller:["$scope","$element","$attrs",function(t,e){"true"==this.border&&(this.borderNeeded=!0),this.height||(this.height=e.parent().height()),this.width||(this.width=e.parent().width())}],link:function(t,e,i,n){var r=n;t.$watch(function(){return e.parent().height()},function(t){r.height=t}),t.$watch(function(){return e.parent().width()},function(t){r.width=t})}}}]),angular.module("layout-containers").directive("north",[function(){return{restrict:"E",scope:{size:"@",split:"@",collapsible:"@"},transclude:!0,controller:["$scope","$element","$attrs",function(){}],controllerAs:"northCtrl",require:["^borderLayout","^north"],bindToController:!0,templateUrl:currentScriptPath.substring(0,currentScriptPath.lastIndexOf("/")+1)+"templates/northContainer.html",link:function(t,e,i,n){var r=n[0],o=n[1];t.$watch(function(){return r.width},function(){t.northWidth=r.northWidth=r.width,t.northHeight=r.northHeight=o.size;var e=0;e="true"==o.split?o.size-5:o.size,t.contentHeight=e,t.northTop=0,t.northLeft=0})}}}]),angular.module("layout-containers").directive("south",[function(){return{restrict:"E",scope:{size:"@",split:"@",collapsible:"@"},transclude:!0,controller:["$scope","$element","$attrs",function(){}],controllerAs:"southCtrl",require:["^borderLayout","^south"],bindToController:!0,templateUrl:currentScriptPath.substring(0,currentScriptPath.lastIndexOf("/")+1)+"templates/southContainer.html",link:function(t,e,i,n){var r=n[0],o=n[1];t.$watch(function(){return r.width},function(){t.southWidth=r.southWidth=r.width,t.southHeight=r.southHeight=o.size;var e=0;e="true"==o.split?o.size-5:o.size,t.contentHeight=e,t.southBottom=0,t.southLeft=0})}}}]),angular.module("layout-containers").directive("west",["$document","$timeout",function(t,e){return{restrict:"E",scope:{size:"@",split:"@",collapsible:"@",collapsed:"@"},transclude:!0,controller:["$scope","$element","$attrs",function(){this.height=0,this.width=0,this.contentWidth=0,this.top=0,this.left=0,this.splitNeeded=!1}],controllerAs:"westCtrl",require:["^borderLayout","^west"],bindToController:!0,templateUrl:currentScriptPath.substring(0,currentScriptPath.lastIndexOf("/")+1)+"templates/westContainer.html",link:function(i,n,r,o,h){function s(){a.top=0,a.left=0,a.height=l,c.westSize=a.width=a.size,a.contentWidth=a.size,a.splitNeeded&&(a.contentWidth=a.size-5),d.height=a.height,d.width=a.contentWidth,u.attr("height",a.height),u.attr("width",a.contentWidth),u.css({height:a.height,width:a.contentWidth})}var c=o[0],a=o[1];"true"==a.split&&(a.splitNeeded=!0);var l=0;i.$watch(function(){return c.height},function(t){t&&t>0&&(l=t,s())}),i.$watch("westCtrl.collapsed",function(t){"true"==t?(n.css("display","none"),c.westSize=0):"false"==t&&(n.css("display","block"),c.westSize=a.size)});var u,d;h(function(t,e){n.find("#contentPart").append(t),d=e,u=t});var p;i.activateSplitter=function(i){function r(t){$(h).css({left:t.pageX-n.offset().left+"px"}),p=!0}function o(i){t.off("mousemove",r),t.off("mouseup",o),p&&(e(function(){var t=i.pageX-n.offset().left;a.size=t+5,s(),c.westSize=t+5},0),p=!1)}var h=i.target;i.preventDefault(),t.on("mousemove",r),t.on("mouseup",o)}}}}]),angular.module("layout-containers").directive("east",["$document","$timeout",function(t,e){return{restrict:"E",scope:{size:"@",split:"@",collapsible:"@",collapsed:"@"},transclude:!0,controller:["$scope","$element","$attrs",function(){this.height=0,this.width=0,this.contentWidth=0,this.top=0,this.left=0,this.splitNeeded=!1,this.contentLeft=0}],controllerAs:"eastCtrl",require:["^borderLayout","^east"],bindToController:!0,templateUrl:currentScriptPath.substring(0,currentScriptPath.lastIndexOf("/")+1)+"templates/eastContainer.html",link:function(i,n,r,o,h){function s(){a.top=0,a.right=0,a.height=l,c.eastSize=a.width=a.size,a.contentWidth=a.size,a.splitNeeded&&(a.contentWidth=a.size-5,a.contentLeft=5),d.height=a.height,d.width=a.contentWidth,u.attr("height",a.height),u.attr("width",a.contentWidth),u.css({height:a.height,width:a.contentWidth})}var c=o[0],a=o[1];"true"==a.split&&(a.splitNeeded=!0);var l=0;i.$watch(function(){return c.height},function(t){t&&t>0&&(l=t,s())}),i.$watch("eastCtrl.collapsed",function(t){"true"==t?(n.css("display","none"),c.eastSize=0):"false"==t&&(n.css("display","block"),c.eastSize=a.size)});var u,d;h(function(t,e){n.find("#contentPart").append(t),d=e,u=t});var p;i.activateSplitter=function(i){function n(t){$(o).css({left:-(c.width-t.pageX-a.contentWidth)+"px"}),p=!0}function r(i){t.off("mousemove",n),t.off("mouseup",r),p&&(e(function(){var t=c.width-i.pageX;a.size=t+5,s(),c.eastSize=t+10,$(o).css({left:"0px"})},0),p=!1)}var o=i.target;i.preventDefault(),t.on("mousemove",n),t.on("mouseup",r)}}}}]),angular.module("layout-containers").directive("centerPortion",["$document","$timeout",function(){return{restrict:"E",scope:{},transclude:!0,controller:["$scope","$element","$attrs",function(){this.height=0,this.width=0,this.top=0,this.left=0}],controllerAs:"ctrl",require:["^borderLayout","^centerPortion"],bindToController:!0,templateUrl:currentScriptPath.substring(0,currentScriptPath.lastIndexOf("/")+1)+"templates/centerContainer.html",link:function(t,e,i,n,r){function o(){var e=0;void 0!==h.eastSize&&(e=h.eastSize);var i=0;void 0!==h.westSize&&(i=h.westSize),s.top=0,s.left=i,s.height=h.height,s.width=h.width-i-e,a.height=s.height,a.width=s.width,c.attr("height",s.height),c.attr("width",s.width),c.css({height:s.height,width:s.width}),t.$broadcast("centerChangeEvent")}var h=n[0],s=n[1];t.$watch(function(){return h.height},function(t){void 0!==t&&o()}),t.$watch(function(){return h.width},function(t){void 0!==t&&o()}),t.$watch(function(){return h.westSize},function(t){void 0!==t&&o()}),t.$watch(function(){return h.eastSize},function(t){void 0!==t&&o()});var c,a;r(function(t,i){e.children().append(t),a=i,c=t})}}}]),angular.module("layout-containers").directive("contentPanel",[function(){return{restrict:"E",scope:{height:"@",width:"@",border:"@",bodyBorder:"@",headerLabel:"@",hideButtonBar:"@",close:"&onClose"},bindToController:!0,controllerAs:"ctrl",templateUrl:currentScriptPath.substring(0,currentScriptPath.lastIndexOf("/")+1)+"templates/contentPanel.html",transclude:!0,controller:["$scope","$element","$attrs",function(t,e){this.top=0,this.left=0,this.height=e.parent().height(),this.width=e.parent().width(),this.bodyHeight=0,this.buttonBarNeeded=!0}],link:function(t,e,i,n){function r(){o.bodyHeight=o.buttonBarNeeded?o.height-50-78:o.height-50}var o=n;"true"==o.hideButtonBar&&(o.buttonBarNeeded=!1),t.$watch(function(){return e.parent().height()},function(t){o.height=t,r()}),t.$watch(function(){return e.parent().width()},function(t){o.width=t,r()})}}}]);